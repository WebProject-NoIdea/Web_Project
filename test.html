<!DOCTYPE HTML>
<html>
<head>
    <script>
        window.onload = function() {



        }
    </script>
</head>
<body>
<div id="chartContainer" style="height: 370px; width: 100%;"></div>


<div id="doughnutChartContainer" style="height: 370px; width: 100%;"></div>
<script>
    window.onload = function () {

        var dataPoints = [];

        var chart = new CanvasJS.Chart("chartContainer", {
            animationEnabled: true,
            theme: "light2",
            zoomEnabled: true,
            title: {
                text: "Bitcoin Price - 2017"
            },
            axisY: {
                title: "Price in USD",
                titleFontSize: 24,
                prefix: "$"
            },
            data: [{
                type: "line",
                yValueFormatString: "$#,##0.00",
                dataPoints: dataPoints
            }]
        });

        function addData(data) {
            var dps = data.price_usd;
            for (var i = 0; i < dps.length; i++) {
                dataPoints.push({
                    x: new Date(dps[i][0]),
                    y: dps[i][1]
                });
            }
            chart.render();
        }

        $.getJSON("https://canvasjs.com/data/gallery/php/bitcoin-price.json", addData);

        let doughnutChartDataPoints = [];

        const doughnutChart = new CanvasJS.Chart("doughnutChartContainer", {
            animationEnabled: true,
            title: {
                text: "This Week",
                horizontalAlign: "left"
            },
            data: [{
                type: "doughnut",
                startAngle: 60, //innerRadius: 60,
                indexLabelFontSize: 12,
                indexLabel: "{name} #percent%",
                toolTipContent: "<b>{name}:</b> {y} (#percent%)",
                dataPoints: doughnutChartDataPoints
            }]
        });

        function doughnutChartAddData(data) {
            doughnutChartDataPoints.push({
                y: data.completed,
                name: "Completed",
                color: "#689F38"
            });
            doughnutChartDataPoints.push({
                y: data.in_progress,
                name: "In Progress",
                color: "#E7823A"
            });
            doughnutChartDataPoints.push({
                y: data.overdue,
                name: "Overdue",
                color: "#D32F2F"
            });

            doughnutChart.render();
        }

        $.getJSON("chart/statistics.php", doughnutChartAddData);

    }
</script>

<script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
<script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>
</body>
</html>